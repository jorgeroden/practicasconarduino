<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>Representación gráfica de medidas con Processing. | Practicas con Arduino </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="author" content="Jorge Muñoz, Jorge Luis Loza, Manuel Hidalgo, Pablo Evaristo García" />
<meta name="generator" content="eXeLearning 2.7 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-139"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="header" ><div id="headerContent">Practicas con Arduino</div></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Prácticas con Arduino para 4º de ESO</a></li>
   <li><a href="fundamentos_de_arduino.html" class="daddy">Fundamentos de Arduino</a>
   <ul class="other-section">
      <li><a href="informacin_bsica_sobre_arduino.html" class="no-ch">Información básica sobre Arduino</a></li>
      <li><a href="hardware.html" class="daddy">Hardware</a>
      <ul class="other-section">
         <li><a href="alimentacin_elctrica_de_arduino.html" class="no-ch">Alimentación eléctrica de Arduino</a></li>
      </ul>
      </li>
      <li><a href="entorno_de_programacin.html" class="no-ch">Entorno de programación</a></li>
   </ul>
   </li>
   <li><a href="una_placa_de_apoyo_edubsica.html" class="no-ch">Una placa de apoyo: Edubásica</a></li>
   <li><a href="montajes_bsicos_con_arduino.html" class="daddy">Montajes básicos con Arduino</a>
   <ul class="other-section">
      <li><a href="conexiones_digitales.html" class="daddy">Conexiones digitales</a>
      <ul class="other-section">
         <li><a href="resistencias_pullup_y_pulldown.html" class="no-ch">Resistencias pull-up y pull-down</a></li>
         <li><a href="montaje_1_led_parpadeante.html" class="no-ch">Montaje 1: LED parpadeante</a></li>
         <li><a href="montaje_2_semforo.html" class="no-ch">Montaje 2: Semáforo</a></li>
         <li><a href="montaje_3_pulsador.html" class="no-ch">Montaje 3: Pulsador</a></li>
      </ul>
      </li>
      <li><a href="conexiones_analgicas.html" class="no-ch">Conexiones analógicas</a></li>
      <li><a href="un_caso_especial_seales_pwm.html" class="daddy">Un caso especial: Señales PWM</a>
      <ul class="other-section">
         <li><a href="control_de_la_intensidad_de_iluminacin_de_un_led.html" class="no-ch">Control de la intensidad de iluminación de un LED</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="electrnica_analgica.html" class="daddy">Electrónica analógica</a>
   <ul class="other-section">
      <li><a href="resistencias.html" class="daddy">Resistencias</a>
      <ul class="other-section">
         <li><a href="montaje_1_interruptor.html" class="no-ch">Montaje 1: Interruptor</a></li>
         <li><a href="montaje_2_potencimetro.html" class="no-ch">Montaje 2: Potenciómetro</a></li>
         <li><a href="montaje_3_resistencias_en_serie.html" class="no-ch">Montaje 3: Resistencias en serie</a></li>
         <li><a href="montaje_4_resistencias_en_paralelo.html" class="no-ch">Montaje 4: Resistencias en paralelo.</a></li>
         <li><a href="montaje_5_sensor_de_luz_ldr.html" class="daddy">Montaje 5: Sensor de luz (LDR)</a>
         <ul class="other-section">
            <li><a href="mapeo_de_valores.html" class="no-ch">Mapeo de valores</a></li>
         </ul>
         </li>
         <li><a href="montaje_6_ldr_con_edubasica.html" class="no-ch">Montaje 6: LDR con Edubasica</a></li>
      </ul>
      </li>
      <li><a href="diodos.html" class="daddy">Diodos</a>
      <ul class="other-section">
         <li><a href="regular_intesidad_de_un_led_con_edubasica.html" class="no-ch">Regular intesidad de un LED con Edubasica</a></li>
         <li><a href="estudio_de_la_tensin_umbral_de_un_led.html" class="no-ch">Estudio de la tensión umbral de un LED</a></li>
      </ul>
      </li>
      <li><a href="condensadores.html" class="no-ch">Condensadores</a></li>
      <li><a href="transistores.html" class="daddy">Transistores</a>
      <ul class="other-section">
         <li><a href="recta_de_carga_de_un_transistor.html" class="no-ch">Recta de carga de un transistor</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="electrnica_digital.html" class="daddy">Electrónica digital</a>
   <ul class="other-section">
      <li><a href="lgebra_de_boole.html" class="no-ch">Álgebra de Boole</a></li>
      <li><a href="montajes_bsicos_pulsador.html" class="no-ch">Montajes básicos: PULSADOR.</a></li>
      <li><a href="montajes_bsicos_elevador.html" class="no-ch">Montajes básicos: ELEVADOR.</a></li>
      <li><a href="montajes_bsicos_alarma_en_vivienda.html" class="no-ch">Montajes básicos: ALARMA EN VIVIENDA.</a></li>
   </ul>
   </li>
   <li><a href="tecnologas_de_la_comunicacin.html" class="daddy">Tecnologías de la comunicación</a>
   <ul class="other-section">
      <li><a href="bluetooth_y_arduino.html" class="daddy">Bluetooth y Arduino</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa.html" class="no-ch">Programa</a></li>
         <li><a href="actividades.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="bluetooth_maestro.html" class="no-ch">Bluetooth maestro</a></li>
      <li><a href="arduino_y_dispositivos_mviles.html" class="daddy">Arduino y dispositivos móviles</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas0.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa0.html" class="no-ch">Programa</a></li>
         <li><a href="actividades0.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="conexin_entre_dos_arduinos_por_cable.html" class="daddy">Conexión entre dos Arduinos por cable</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas1.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa1.html" class="no-ch">Programa</a></li>
         <li><a href="actividades1.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="control_y_robtica.html" class="daddy">Control y robótica</a>
   <ul class="other-section">
      <li><a href="sensor_de_infrarrojos_cny70.html" class="daddy">Sensor de infrarrojos CNY70</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas2.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa2.html" class="no-ch">Programa</a></li>
         <li><a href="actividades2.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="sensor_de_infrarrojos_sharp_gp2d12.html" class="daddy">Sensor de infrarrojos SHARP GP2D12</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas3.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa3.html" class="no-ch">Programa</a></li>
         <li><a href="actividades3.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="sensor_de_ultrasonidos.html" class="daddy">Sensor de ultrasonidos</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas4.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa4.html" class="no-ch">Programa</a></li>
         <li><a href="actividades4.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="control_de_servomotores.html" class="daddy">Control de servomotores</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas5.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa5.html" class="no-ch">Programa</a></li>
         <li><a href="actividades5.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="control_de_motores_dc.html" class="daddy">Control de motores DC</a>
      <ul class="other-section">
         <li><a href="montaje_con_transistor.html" class="daddy">Montaje con transistor</a>
         <ul class="other-section">
            <li><a href="descripcin_y_esquemas6.html" class="no-ch">Descripción y esquemas</a></li>
            <li><a href="programa6.html" class="no-ch">Programa</a></li>
            <li><a href="actividades6.html" class="no-ch">Actividades</a></li>
         </ul>
         </li>
         <li><a href="montaje_con_circuito_l293.html" class="daddy">Montaje con Circuito L293</a>
         <ul class="other-section">
            <li><a href="descripcin_y_esquemas7.html" class="no-ch">Descripción y esquemas</a></li>
            <li><a href="programa7.html" class="no-ch">Programa</a></li>
            <li><a href="actividades7.html" class="no-ch">Actividades</a></li>
         </ul>
         </li>
         <li><a href="accionamiento_con_edubsica.html" class="no-ch">Accionamiento con Edubásica</a></li>
      </ul>
      </li>
      <li><a href="acelermetro.html" class="daddy">Acelerómetro</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas8.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa8.html" class="no-ch">Programa</a></li>
         <li><a href="actividades8.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="proyecto_parking_con_barrera.html" class="daddy">Proyecto: Parking con barrera</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas9.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa9.html" class="no-ch">Programa</a></li>
         <li><a href="actividades9.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="proyecto_tacmetro.html" class="daddy">Proyecto: Tacómetro</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas10.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa10.html" class="no-ch">Programa</a></li>
         <li><a href="actividades10.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="proyecto_mquina_clasificadora_de_bolas.html" class="daddy">Proyecto: Máquina clasificadora de bolas</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas11.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa11.html" class="no-ch">Programa</a></li>
         <li><a href="actividades11.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="instalaciones.html" class="daddy">Instalaciones</a>
   <ul class="other-section">
      <li><a href="la_casa_inteligente.html" class="daddy">La casa inteligente</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas12.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa12.html" class="no-ch">Programa</a></li>
         <li><a href="actividades12.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
      <li><a href="neumtica.html" class="daddy">Neumática</a>
      <ul class="other-section">
         <li><a href="descripcin_y_esquemas13.html" class="no-ch">Descripción y esquemas</a></li>
         <li><a href="programa13.html" class="no-ch">Programa</a></li>
         <li><a href="actividades13.html" class="no-ch">Actividades</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="prcticas_rpidas_para_el_aula.html" class="current-page-parent daddy">Prácticas rápidas para el aula</a>
   <ul>
      <li><a href="led_parpadeante.html" class="no-ch">LED parpadeante</a></li>
      <li><a href="secuencia_de_led.html" class="no-ch">Secuencia de LED</a></li>
      <li><a href="detector_de_luz.html" class="no-ch">Detector de luz</a></li>
      <li><a href="detector_de_objetos_por_infrarrojos_ir.html" class="no-ch">Detector de objetos por infrarrojos (IR).</a></li>
      <li><a href="detector_de_objetos_por_ultrasonidos_us.html" class="no-ch">Detector de objetos por ultrasonidos (US).</a></li>
      <li><a href="comunicacin_por_bluetooth.html" class="no-ch">Comunicación por Bluetooth.</a></li>
      <li><a href="medida_de_la_temperatura_y_la_humedad_ambiente.html" class="no-ch">Medida de la temperatura y la humedad ambiente.</a></li>
      <li id="active"><a href="representacin_grfica_de_medidas_con_processing.html" class="active no-ch">Representación gráfica de medidas con Processing.</a></li>
      <li><a href="visualizacin_de_datos_en_la_nube_internet_de_las_cosas.html" class="no-ch">Visualización de datos en la nube. Internet de las cosas.</a></li>
      <li><a href="uso_de_los_servomotores.html" class="no-ch">Uso de los servomotores.</a></li>
      <li><a href="servos_de_rotacin_continua.html" class="no-ch">Servos de rotación continua.</a></li>
      <li><a href="control_de_motores_dc0.html" class="daddy">Control de motores DC</a>
      <ul class="other-section">
         <li><a href="montaje_con_transistor0.html" class="no-ch">Montaje con transistor</a></li>
         <li><a href="montaje_con_l293.html" class="no-ch">Montaje con L293</a></li>
         <li><a href="shield_edubsica.html" class="no-ch">Shield Edubásica</a></li>
      </ul>
      </li>
      <li><a href="acelermetro_y_giroscopio_mpu_6065.html" class="no-ch">Acelerómetro y giroscopio (MPU 6065).</a></li>
      <li><a href="simulacin_con_giroscopio_mpu_6050.html" class="no-ch">Simulación con giroscopio (MPU 6050).</a></li>
   </ul>
   </li>
   <li><a href="crditos.html" class="no-ch">Créditos</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="medida_de_la_temperatura_y_la_humedad_ambiente.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="visualizacin_de_datos_en_la_nube_internet_de_las_cosas.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">Representación gráfica de medidas con Processing.</h1></div>
<div class="iDevice_wrapper FreeTextIdevice" id="id273">
<div class="iDevice emphasis0">
<div id="ta273_85" class="block iDevice_content">
<p><img src="screenshot.jpg" width="416" height="357" alt="graficaTH" title="graficaTH" style="float: left; margin-left: 20px; margin-right: 20px;" /></p>
<p><strong>Representar gráficamente en la pantalla del ordenador mediante un programa en Processing los datos obtenidos de temperatura y humedad.</strong></p>
<p style="text-align: justify;">Una vez obtenidos los datos de temperatura y humedad a través del sensor DHT11 desde Arduino, enviamos, a través del puerto serie, estos datos al PC, donde tenemos ejecutando un programa en Processing que está "escuchando" el puerto serie, obteniendo los datos y representándolos en pantalla. Simultáneamente guardamos los datos en un archivo de texto que posteriormente podremos analizar en una hoja de cálculo.</p>
<p style="text-align: justify;"><strong>IMPORTANTE</strong>: No hay que tener abierto el monitor serie del IDE de Arduino porque ocupa el puerto y, por lo tanto, no deja leer los datos a Processing.</p>
<p style="text-align: justify;"></p>
<p></p>
<p></p>
<p></p>
<p></p>
</div>
</div>
</div>
<div class="iDevice_wrapper FreeTextIdevice" id="id274">
<div class="iDevice emphasis0">
<div id="ta274_85" class="block iDevice_content">
<h2>PROGRAMA A CARGAR EN ARDUINO:</h2>
<style type="text/css"><!--
pre {
margin: 0 0 1em 1em;
padding: 1em 1em 1em 1em;
border: 1px solid #C80000;
font-family: Courier, Monospace;
font-size: 1em;
background-color: #F6F6E3;
}
--></style>
<pre>#include <span style="color: #006699;">"DHT.h"</span>
#define DHTPIN 2   
#define DHTTYPE DHT11   <span style="color: #434f54;">// DHT 11 </span>
DHT dht(DHTPIN, DHTTYPE);


<span style="color: #00979c;">void</span> <span style="color: #5e6d03;">setup</span>() {
  <span style="color: #d35400;"><b>Serial</b></span>.<span style="color: #d35400;">begin</span>(9600); 
  dht.<span style="color: #d35400;">begin</span>();
}

<span style="color: #00979c;">void</span> <span style="color: #5e6d03;">loop</span>() {

  <span style="color: #d35400;">delay</span>(2000);
  <span style="color: #00979c;">float</span> h = dht.readHumidity();
  <span style="color: #00979c;">float</span> t = dht.<span style="color: #d35400;">readTemperature</span>();
  <span style="color: #5e6d03;">if</span> (isnan(h) || isnan(t)) {
    <span style="color: #d35400;"><b>Serial</b></span>.<span style="color: #d35400;">println</span>(<span style="color: #006699;">"Fallo al leer el sensor DHT11"</span>);
    <span style="color: #5e6d03;">return</span>;
  }
  <span style="color: #434f54;">// Únicamente enviar a Processing las variables t y h </span>
  <span style="color: #d35400;"><b>Serial</b></span>.<span style="color: #d35400;">println</span>(h);
  <span style="color: #d35400;"><b>Serial</b></span>.<span style="color: #d35400;">println</span>(t);
 
}


</pre>
<h2>PROGRAMA A EJECUTAR EN PROCESSING (PC / LAPTOP):</h2>
<p>Vamos a guardar dos archivos en Processing, al primero le llamamos <strong>visual_dot.pde </strong>y al segundo <strong>Graf.pde. </strong>Ambos los guardamos en el mismo directorio.</p>
<p></p>
<style type="text/css"><!--
pre {
margin: 0 0 1em 1em;
padding: 1em 1em 1em 1em;
border: 1px solid #C80000;
font-family: Courier, Monospace;
font-size: 1em;
background-color: #F6F6E3;
}
--></style>
<pre><span style="color: #666666;">// visual_dot.pde</span>
<span style="color: #666666;">// Representa puntos con los valores de Temperatura y Humedad</span>
<span style="color: #666666;">// recogidos de Arduino con DHT11.</span>
<span style="color: #666666;">// Jorge Muñoz, Manuel Hidalgo, Pablo Garcia, Jorge L. Loza</span>
<span style="color: #666666;">// Licencia: GPL v3</span>
<span style="color: #666666;">// Este es un programa ad-hoc para demostración.</span>
<span style="color: #666666;">// Necesita Graf.pde</span>
<span style="color: #666666;">// Modificalo a tu gusto.</span>
<span style="color: #666666;">// Tildes omitidas.</span>

<span style="color: #33997e;">import</span> processing.serial.*;

<span style="color: #e2661a;">int</span> x = 65, ancho = 700, alto = 600;
<span style="color: #e2661a;">int</span> cFondo = 255; <span style="color: #666666;">//Color fondo</span>
<span style="color: #e2661a;">boolean</span> flagTemp = <span style="color: #33997e;">false</span>; 
<span style="color: #e2661a;">boolean</span> pH = <span style="color: #33997e;">true</span>;
<span style="color: #e2661a;">boolean</span> pT = <span style="color: #33997e;">true</span>;
<span style="color: #e2661a;">float</span> t = 100, h = 0 ;
<span style="color: #e2661a;">PrintWriter</span> datos;
Serial puertoArduino;
Graf g = <span style="color: #33997e;">new</span> Graf(ancho, alto, cFondo);


<span style="color: #33997e;">void</span> <span style="color: #006699;"><b>setup</b></span> (){
 
  <span style="color: #006699;">size</span>(700, 600);
  <span style="color: #006699;">background</span>(255);
  <span style="color: #006699;">print</span>(Serial.<span style="color: #006699;">list</span>());<span style="color: #666666;">//Cambia el indice [1] por el que indique la consola</span>
  puertoArduino = <span style="color: #33997e;">new</span> Serial(<span style="color: #33997e;">this</span>, Serial.<span style="color: #006699;">list</span>()[1], 9600);
  datos = <span style="color: #006699;">createWriter</span>(<span style="color: #7d4793;">"medidasT_HR.txt"</span>);
  <span style="color: #006699;">fill</span>(255, 0, 0);
  <span style="color: #006699;">text</span>(<span style="color: #7d4793;">"TEMPERATURA (ºC) : "</span>, 20, 20);
  <span style="color: #006699;">fill</span>(0, 0, 255);
  <span style="color: #006699;">text</span>(<span style="color: #7d4793;">"HR (%) : "</span>, 20, 40);
  <span style="color: #006699;">text</span>(<span style="color: #7d4793;">"DHT11 - Rango de temperaturas (0ºC &lt; T &lt; 50ºC)"</span>, (ancho / 2) - 100, 20);
  <span style="color: #006699;">text</span>(<span style="color: #7d4793;">"DHT11 - Rango de humedad relativa (20 % &lt; H &lt; 90 %)"</span>, (ancho / 2) - 100, 40);
  pT = <span style="color: #33997e;">true</span>;
  pH = <span style="color: #33997e;">true</span>;
  g.cuadricula1();
  g.cuadricula2();
}

<span style="color: #33997e;">void</span> <span style="color: #006699;"><b>draw</b></span>(){

  <span style="color: #e2661a;">String</span> inString = puertoArduino.readStringUntil(<span style="color: #7d4793;">'\n'</span>); 
  
  
  <span style="color: #669900;">if</span> (inString != <span style="color: #33997e;">null</span>){
      
     inString = <span style="color: #006699;">trim</span>(inString);
     <span style="color: #669900;">if</span> (flagTemp == <span style="color: #33997e;">false</span>){
      <span style="color: #006699;">fill</span>(255,255,255);
      <span style="color: #006699;">noStroke</span>();
      <span style="color: #006699;">rectMode</span>(<span style="color: #718a62;">CORNERS</span>); 
      <span style="color: #006699;">rect</span>(140,20,200,45);<span style="color: #666666;">//Borra lectura anterior </span>
      h = <span style="color: #006699;">float</span>(inString);
      datos.<span style="color: #006699;">print</span>(h +<span style="color: #7d4793;">" "</span>+ <span style="color: #718a62;">TAB</span>); 
      flagTemp = <span style="color: #33997e;">true</span>;
      <span style="color: #006699;">fill</span> (0,0,255);
      <span style="color: #006699;">text</span>(h, 140, 40);
      <span style="color: #006699;">println</span>(<span style="color: #7d4793;">"Humedad Relativa (%) :"</span>, h);
      <span style="color: #669900;">if</span> (h &gt;= 20.0 &amp;&amp; h &lt;= 90.0){
        
        g.puntosH(x, h, pH);
        
        
       }
       pH = <span style="color: #33997e;">false</span>;
     }
     <span style="color: #669900;">else</span>{
       <span style="color: #006699;">fill</span>(255,255,255);
       <span style="color: #006699;">noStroke</span>();
       <span style="color: #006699;">rectMode</span>(<span style="color: #718a62;">CORNERS</span>);
       <span style="color: #006699;">rect</span>(140,5,200,25); <span style="color: #666666;">//borra lectura anterior </span>
       t = <span style="color: #006699;">float</span>(inString);
       
       datos.<span style="color: #006699;">println</span>(t);
       flagTemp = <span style="color: #33997e;">false</span>;
       <span style="color: #006699;">fill</span> (255,0,0);
       <span style="color: #006699;">text</span>(t, 140, 20);
       <span style="color: #006699;">println</span>(<span style="color: #7d4793;">"Temperatura (ºC) : "</span>, t);
      
       <span style="color: #669900;">if</span> (t &gt;= 0.0 &amp;&amp; t &lt;= 50.0){
          
         g.puntosT(x, t, pT);
          
        }
         pT = <span style="color: #33997e;">false</span>;  
     }
     
     x = x + 5;
     
     }
                
     <span style="color: #669900;">if</span> (x &gt; ancho - 60) {
        x = 60;
        pT = <span style="color: #33997e;">true</span>;
        pH = <span style="color: #33997e;">true</span>;
        g.borra();
        g.cuadricula1();
        g.cuadricula2();
              
     }
         
    }
     
<span style="color: #33997e;">void</span> <span style="color: #006699;"><b>keyPressed</b></span>() {<span style="color: #666666;">//Presionar 'ESC' para salir</span>
    datos.<span style="color: #006699;">flush</span>();  
    datos.<span style="color: #006699;">close</span>();  
    <span style="color: #006699;">exit</span>();  
}

</pre>
<style type="text/css"><!--
pre {
margin: 0 0 1em 1em;
padding: 1em 1em 1em 1em;
border: 1px solid #C80000;
font-family: Courier, Monospace;
font-size: 1em;
background-color: #F6F6E3;
}
--></style>
<pre><span style="color: #666666;">// Graf.pde</span>
<span style="color: #666666;">// Representa puntos con los valores de Temperatura y Humedad</span>
<span style="color: #666666;">// recogidos de Arduino con DHT11.</span>
<span style="color: #666666;">// Jorge Muñoz, Manuel Hidalgo, Pablo Garcia, Jorge L. Loza</span>
<span style="color: #666666;">// Licencia: GPL v3</span>
<span style="color: #666666;">// Este es un programa ad-hoc para demostración.</span>
<span style="color: #666666;">// Clase incorporada a visual_dot.pde</span>
<span style="color: #666666;">// Modificalo a tu gusto.</span>
<span style="color: #666666;">// Tildes omitidas.</span>
<span style="color: #33997e;">class</span> Graf {

  <span style="color: #e2661a;">int</span> nX, nY, colF;
  <span style="color: #e2661a;">int</span> anteriorXT , anteriorXH;
  <span style="color: #e2661a;">float</span> anteriorYT, anteriorYH;
  <span style="color: #666666;">//boolean primeroT, primeroH;</span>
  Graf (<span style="color: #e2661a;">int</span> x, <span style="color: #e2661a;">int</span> y, <span style="color: #e2661a;">int</span> cF){
    nX = x;
    nY = y; 
    colF  = cF;
  }
  <span style="color: #33997e;">void</span> cuadricula1(){<span style="color: #666666;">// Temperatura</span>
    <span style="color: #006699;">fill</span>(0, 0, 0);
    <span style="color: #006699;">text</span>(<span style="color: #7d4793;">"TEMPERATURA"</span>, (nX / 2) - 50, 70);
    <span style="color: #006699;">stroke</span>(150);   
    <span style="color: #669900;">for</span> (<span style="color: #e2661a;">int</span>  j = 60 ; j &lt;= nX - 60; j = j + 20){
      <span style="color: #006699;">line</span> (j, 80, j, (nY / 2) - 20);      } <span style="color: #666666;">// Vert</span>
    <span style="color: #669900;">for</span> (<span style="color: #e2661a;">int</span>  j = 80 ; j &lt;= (nY / 2) - 20; j = j + 20){
      <span style="color: #006699;">line</span> (60, j, nX - 60, j);} <span style="color: #666666;">// Horiz</span>
    <span style="color: #e2661a;">int</span> i = 0;
    <span style="color: #669900;">for</span> (<span style="color: #e2661a;">int</span> n = (nY / 2) - 20; n &gt;= (nY / 2) - 220; n = n - 20){
      <span style="color: #006699;">fill</span>(0, 0, 0);
      <span style="color: #006699;">text</span>(i, 35, n + 5);
      i = i + 5;
      
    }
  }
  
  <span style="color: #33997e;">void</span> cuadricula2(){<span style="color: #666666;">// Humedad</span>
    <span style="color: #006699;">fill</span>(0, 0, 0);
    <span style="color: #006699;">text</span>(<span style="color: #7d4793;">"HUMEDAD RELATIVA"</span>, (nX / 2) - 60, (nY / 2) + 10);
    <span style="color: #006699;">stroke</span>(150);   
    <span style="color: #669900;">for</span> (<span style="color: #e2661a;">int</span>  j = 60 ; j &lt;= nX - 60; j = j + 20){
      <span style="color: #006699;">line</span> (j, (nY / 2) + 20 , j, nY - 80);} <span style="color: #666666;">// Vert</span>
    <span style="color: #669900;">for</span> (<span style="color: #e2661a;">int</span>  j = (nY / 2) + 20 ; j &lt;= nY - 80; j = j + 20){
      <span style="color: #006699;">line</span> (60, j, nX - 60, j);} <span style="color: #666666;">// Horiz</span>
    <span style="color: #e2661a;">int</span> i = 0;  
    <span style="color: #669900;">for</span> (<span style="color: #e2661a;">int</span> n = nY - 80; n &gt;= nY - 280; n = n - 20){
      <span style="color: #006699;">fill</span>(0, 0, 0);
      <span style="color: #006699;">text</span>(i, 35, n + 5);
      i = i + 10;
    }
 
  }
  
  <span style="color: #33997e;">void</span> borra(){
    <span style="color: #006699;">fill</span>(colF); <span style="color: #666666;">// Color del fondo</span>
    <span style="color: #006699;">noStroke</span>();
    <span style="color: #006699;">rectMode</span>(<span style="color: #718a62;">CORNERS</span>);
    <span style="color: #006699;">rect</span>(50 , 50, nX , nY - 30 ); 
  }
  
  <span style="color: #33997e;">void</span> puntosT(<span style="color: #e2661a;">int</span> x, <span style="color: #e2661a;">float</span> tem, <span style="color: #e2661a;">boolean</span> primeroT){
      
      <span style="color: #e2661a;">float</span> vT = <span style="color: #006699;">map</span>(tem, 0, 50, (nY / 2) - 20 , 80);
      <span style="color: #006699;">ellipse</span>(x, vT, 5, 5);
      <span style="color: #669900;">if</span> (primeroT == <span style="color: #33997e;">false</span>){
        <span style="color: #006699;">stroke</span>(50);
        <span style="color: #006699;">line</span>(anteriorXT, anteriorYT, x, vT);
        
      
      }
      anteriorXT = x;
      anteriorYT = vT;
        
  }
<span style="color: #33997e;">void</span> puntosH(<span style="color: #e2661a;">int</span> x, <span style="color: #e2661a;">float</span> hum, <span style="color: #e2661a;">boolean</span> primeroH){
            
      <span style="color: #e2661a;">float</span> vH = <span style="color: #006699;">map</span>(hum, 0, 100, nY - 80, (nY / 2) + 20); 
      <span style="color: #006699;">ellipse</span>(x, vH, 5, 5);
      <span style="color: #669900;">if</span> (primeroH == <span style="color: #33997e;">false</span>){
        <span style="color: #006699;">stroke</span>(50);
        <span style="color: #006699;">line</span>(anteriorXH, anteriorYH, x, vH);
        
      
      }
        anteriorXH = x;
        anteriorYH = vH;   
  }

}

</pre>
</div>
</div>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="medida_de_la_temperatura_y_la_humedad_ambiente.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="visualizacin_de_datos_en_la_nube_internet_de_las_cosas.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>